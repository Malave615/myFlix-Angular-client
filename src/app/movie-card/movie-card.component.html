<div style="display: flex; flex-wrap: wrap; justify-content: space-evenly; gap: 20px;">
    <div *ngIf="loading" class="loading-overlay">
        <mat-spinner></mat-spinner>
    </div>
    
    <!-- Movie Cards -->
    <mat-card *ngFor="let movie of movies; let i=index;" class="movie-card" style="flex: 1 1 auto;">
        <mat-card-header>
            <mat-card-title>{{movie.Title}}</mat-card-title>
            <mat-card-subtitle>Directed by: {{movie.Director.Name}}</mat-card-subtitle>
        </mat-card-header>

        <img src="{{movie.ImagePath}}" alt="{{movie.Title}}" class="movie-image" />

        <mat-card-actions>
            <!-- Links to open dialogs for Genre, Director, and Movie Details -->
            <button mat-button color="primary" (click)="openGenreDialog(movie)">Genre</button>
            <button mat-button color="primary" (click)="openDirectorDialog(movie.Director)">Director</button>
            <button mat-button color="primary" (click)="openDescriptionDialog(movie)">Description</button>

            <!-- Fav Button Logic -->
            <button
              mat-icon-button
              (click)="isFav(movie._id) ? null : addToFav(movie)">
              <mat-icon [ngClass]="{ 'favorite-red': isFav(movie._id) }">
                {{ isFav(movie._id) ? 'favorite' : 'favorite_border' }}
              </mat-icon>
            </button>
            
        </mat-card-actions>
    </mat-card>

    <!-- Retry Button if fetch fails -->
     <div *ngIf="retryAttempt">
        <button mat-raised-button color="warn" (click)="retryFetchMovies()">Retry</button>
     </div>
</div>